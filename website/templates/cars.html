<!doctype html>
  <head>
    <meta charset="utf-8">
    <title>Interactive cost-carbon space of 2014 light-duty vehicles in the U.S. market</title>
    <meta name="description" content="Interactive cost-carbon curve (alpha)">
    <link rel="stylesheet" href="{{ url_for('static', filename='cars/css/main.js') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='cars/css/svg.js') }}">
  </head>
  <body ng-app="interactiveCostCarbonApp" ng-cloak>

      <div id="app" ng-controller="mainCtrl">

        <aside id="interface-bar">

            <div class="group" style="padding-bottom: 5px;">

                <h1>Search for a Car</h1>

                <input ng-model="search" type="text" style="margin-bottom: 5px; width: 150px;">

                <div ng-show="showList()">
                    <div style="margin-bottom:3px; cursor: pointer;" ng-repeat="item in vehicleList | filter:search" ng-click="highlight(item.id)">{{item.name}}</div>
                </div>

            </div>

            <div class="group" ng-show="uiInfo.highlightedCars.length" style="padding-bottom: 5px;">

                <h1>Highlighted Cars</h1>

                <p ng-repeat="car in uiInfo.highlightedCars">
                    <span style="display:block;width: 16px;height: 16px;background-color: #f00; color:#fff;border-radius:8px; margin-right: 8px; text-align: center; float: left;">{{car.index}}</span> {{car.make}} {{car.model}} {{car.suffix}} {{car.trim}} ({{car.powertrain}})
                </p>

            </div>

            <div class="group" ng-show="uiInfo.legend.length" style="padding-bottom: 5px;">

                <h1>Legend</h1>

                <p ng-repeat="legendEntry in uiInfo.legend">
                    <span style="display:block;width: 16px;height: 16px;background-color: {{legendEntry.color}}; color:#fff;border-radius:8px; margin-right: 8px; text-align: center; float: left;"></span> {{legendEntry.text}}
                </p>

            </div>

            <div class="group" ng-repeat="settingGroup in settings">

                <h1>{{settingGroup.title}}</h1>

                <div class="interface-group" ng-repeat="setting in settingGroup.settings">
                    <span class="config-title">{{setting.title}}</span>
                    <span class="additional-info-wrapper" ng-if="setting.help">
                        <span class="additional-info-inner-wrapper">
                            <span class="additional-info-icon">?</span>
                            <span class="additional-info-text">{{setting.help}}</span>
                        </span>
                    </span>
                    <select ng-if="setting.isSelect" ng-model="setting.value" ng-options="option.key as option.title group by option.group for option in setting.options"></select>
                    <input ng-if="setting.isSlider" type="text" ng-model="setting.value" size="4"></input>
                    <div ng-if="setting.isSlider" class="config-slider" setting="setting"></div>
                </div>

            </div>

            <h1>Store &amp; Load Settings</h1>

            <button type="button" ng-click="storeSettings()">Store</button>

            <button type="button" class="{{storageBoxes.box0.state}}" ng-click="triggerStorageBox(0)" ng-disabled="storageBoxes.box0.disabled">1</button>
            <button type="button" class="{{storageBoxes.box1.state}}" ng-click="triggerStorageBox(1)" ng-disabled="storageBoxes.box1.disabled">2</button>
            <button type="button" class="{{storageBoxes.box2.state}}" ng-click="triggerStorageBox(2)" ng-disabled="storageBoxes.box2.disabled">3</button>
            <button type="button" class="{{storageBoxes.box3.state}}" ng-click="triggerStorageBox(3)" ng-disabled="storageBoxes.box3.disabled">4</button>
            <button type="button" class="{{storageBoxes.box4.state}}" ng-click="triggerStorageBox(4)" ng-disabled="storageBoxes.box4.disabled">5</button>
            <button type="button" ng-click="clearStorage()">Clear</button>
            <!--|
            <button type="button" ng-click="downloadSettings()">Download</button>
            <button type="button" ng-click="toggleUpload()">Upload</button>

            <div ng-hide="hideUpload" id="uploadBox">
                <input type="file" id="file" name="file">
                <button type="button" id="uploadBoxGoButton" ng-click="uploadSettings()">Go</button>
            </div>-->
            
            <h1>Save &amp; Export SVG</h1>

            <button type="button" ng-click="saveSvg('download')" ng-enabled="{{canDownload}}">Download SVG</button>
            <button type="button" ng-click="saveSvg('open')">Open SVG in new tab</button>


        </aside>

        <div id="main">

            <cost-carbon-space></cost-carbon-space>

        </div>

      </div>
    </div>

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <script src="{{ url_for('static', filename='cars/scripts/app.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/customizable/calculateResults.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/customizable/getConfigOptions.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/customizable/getCsvList.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/customizable/processCsvData.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/customizable/colorsAndStyles.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/convexHullService.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/d3PlotService.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/d3SliderService.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/configService.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/services/dataService.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/controllers/mainCtrl.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/directives/costCarbonSpace.js') }}"></script>
    <script src="{{ url_for('static', filename='cars/scripts/directives/configSlider.js') }}"></script>

  </body>
</html>